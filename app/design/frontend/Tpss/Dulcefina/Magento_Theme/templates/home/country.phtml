<?php$subCats123 = array();$children = Mage::getModel('catalog/category')->getCategories(8, 1, true, true);foreach ($children as $category){    $subCats123[$category->getName()] = $category->getId();}//print_r($categories);$cat = Mage::getModel('catalog/category')->load(8);$subcats = $cat->getChildren();$i=0;foreach(explode(',', $subcats) as $subcategory){    $categorycountry = Mage::getModel('catalog/category')->load($subcategory);    $cats[$categorycountry->getName()]=$subcategory;}ksort($cats);foreach($subCats123 as $subCatid){         $_category = Mage::getModel('catalog/category')->load($subCatid);            $caturl     = $_category->getURL();      $catname     = $_category->getName();          $margin = "";      if($_category->getImageUrl())        {                    switch ($i){           case 0: $width='290px'; $height='555px'; break;           case 1: $width='250px'; $height='280px'; break;           case 2: $width='430px'; $height='280px'; break;           case 3: $width='320px'; $height='266px'; break;           case 4: $width='360px'; $height='266px'; break;           case 5: $width='350px'; $height='459px'; break;           case 6: $width='290px'; $height='223px'; $margin='margin:0 0px 0 0px;'; break;           case 7: $width='290px'; $height='223px'; $margin='margin:0 0px 0 0px;'; break;           case 8: $width='325px'; $height='459px'; $margin='margin:0 0px 0 0px;'; break;           case 9: $width='260px'; $height='456px'; $margin='margin:0 0px 0 0px;'; break;           case 10: $width='210px'; $height='221px'; $margin='margin:0 0px 0 0px;'; break;           case 11: $width='500px'; $height='220px'; $margin='margin:0;'; break;           case 12: $width='290px'; $height='223px'; $margin='margin:0 0px 0 0px;'; break;           case 13: $width='420px'; $height='225px'; $margin='margin:0 0px 0 0px;'; break;           case 14: $width='440px'; $height='455px'; break;           case 15: $width='540px'; $height='223px'; break;           case 16: $width='540px'; $height='223px'; break;           case 17: $width='260px'; $height='456px'; $margin='margin:0 0px 0 0px;'; break;           case 18: $width='210px'; $height='223px'; $margin='margin:0 0px 0 0px;'; break;           case 19: $width='500px'; $height='223px'; $margin='margin:0;'; break;           case 20: $width='290px'; $height='223px'; $margin='margin:0 0px 0 0px;'; break;           case 21: $width='420px'; $height='223px'; $margin='margin:0 0px 0 0px;'; break;           case 22: $width='440px'; $height='455px'; break;           case 23: $width='540px'; $height='223px'; break;           case 24: $width='540px'; $height='223px'; break;           case 25: $width='290px'; $height='555px'; break;           case 26: $width='250px'; $height='280px'; break;           case 27: $width='430px'; $height='280px'; break;           case 28: $width='320px'; $height='266px'; break;           case 29: $width='360px'; $height='266px'; break;           case 30: $width='360px'; $height='458px'; $margin='margin:0 0px 0 0px;'; break;           case 31: $width='290px'; $height='225px'; $margin='margin:0 0px 0 0px;'; break;           case 32: $width='290px'; $height='223px'; $margin='margin:0 0px 0 0px;'; break;           case 33: $width='318px'; $height='458px'; break;           case 34: $width='260px'; $height='455px'; break;           case 35: $width='215px'; $height='223px'; $margin='margin:0 0px 0 0px;'; break;           case 36: $width='495px'; $height='223px'; $margin='margin:0;'; break;           case 37: $width='300px'; $height='223px'; $margin='margin:0 0px 0 0px;'; break;           case 38: $width='410px'; $height='223px'; $margin='margin: 0 0px;'; break;           case 39: $width='440px'; $height='456px'; break;           case 40: $width='540px'; $height='223px'; break;           case 41: $width='540px'; $height='223px'; break;           case 42: $width='300px'; $height='455px'; break;           case 43: $width='340px'; $height='223px'; $margin='margin:0 0px 0 0px;'; break;           case 44: $width='330px'; $height='223px'; $margin='margin:0;'; break;           case 45: $width='680px'; $height='223px'; $margin='margin:0 0px 0 0px;'; break;           case 46: $width='440px'; $height='456px'; $margin='margin:0 0px 0 0px;'; break;           case 47: $width='540px'; $height='223px'; break;           case 48: $width='540px'; $height='223px'; break;           case 49: $width='300px'; $height='455px'; break;           case 50: $width='340px'; $height='223px'; break;           case 51: $width='330px'; $height='223px'; break;           case 52: $width='680px'; $height='223px'; break;           case 53: $width='340px'; $height='223px'; break;           case 54: $width='36%'; $height='266px'; break;           default : $width='30%';               break;           }                     $catimg  = $_category->getImageUrl();          $page_title = $_category->getMetaTitle();        list($width1, $height1) = getimagesize($catimg);           if($width>200&&$width<260){            $width_new = ($width1-$width)/3+30;        }          if($width>=260&&$width<=300){            $width_new = ($width1-$width)/3+100;        }          if($width>=300&&$width<=350){            $width_new = ($width1-$width)/3+70;        }        if($width>=350 && $width<=400){            $width_new = ($width1-$width)/3+50;        }            if($width>=400 && $width<=500){                $width_new = ($width1-$width)/3+50;            }            if($width>=500 && $width<690){                $width_new = ($width1-$width)/3+50;            }         // $width_new =  ($width1-$width)/3;          $height_new = ($height1-$height)/2;          $left = '-'.$width_new.'px';          $top  = '-'.$height_new.'px';          /* first block */          if($i < 5){            if($i == 0){ echo "<div style='float:left; width:100%;'>"; }              echo '<div class="home-images" style="width:'.$width.'; height:'.$height.'; border:none;"><a class="homeimg-link" href="'.$caturl.'"  style="float:left; background-size: cover !important; background: url('.$catimg.')  no-repeat scroll 50% 50%  transparent; width:'.$width.'; height:'.$height.'; "></a>             <a href="'.$caturl.'" class="home-imgtitle"><span>'.$catname.'</span><span class="home-arwimg"></span></a><div class="page-title1">'.$page_title.'</div>'.'</div>';                  if($i==4){ echo "</div>"; }          }          /* first ends */                    /* second block */          if($i > 4 && $i < 9){            if($i == 5){ echo "<div style='float:left; width:100%;'>"; }            if($i == 6){ echo "<div style='float:left; width:30%; height:450px;margin:2px;'>"; }                echo '<div class="home-images" style="width:'.$width.'; height:'.$height.'; border:none;'.$margin.'"><a class="homeimg-link" href="'.$caturl.'" style="float:left; background-size: cover !important; background: url('.$catimg.')  no-repeat scroll 50% 50% transparent; width:'.$width.'; height:'.$height.'; "></a>                <a href="'.$caturl.'" class="home-imgtitle"><span>'.$catname.'</span><span class="home-arwimg"></span></a><div class="page-title1">'.$page_title.'</div>'.'</div>';                  if($i == 7){ echo "</div>"; }            if($i==8){ echo "</div>"; }          }          /* second ends */                              /* Third block */          if($i > 8 && $i < 14){            if($i == 9){ echo "<div style='float:left; width:100%;'>"; }            if($i==10 ){ echo "<div style='float: left;height: 223px; margin-top: 0px;width: 73%;'>"; }            if($i==12 ){ echo "<div style=' float: left; height: 223px; margin-top: 7px; width: 73%;'>"; }            echo '<div class="home-images" style="width:'.$width.'; height:'.$height.'; border:none;'.$margin.'"><a class="homeimg-link" href="'.$caturl.'" style="float:left; background-size: cover !important; background: url('.$catimg.')  no-repeat scroll 50% 50% transparent; width:'.$width.'; height:'.$height.'; "></a>                <a href="'.$caturl.'" class="home-imgtitle"><span>'.$catname.'</span><span class="home-arwimg"></span></a><div class="page-title1">'.$page_title.'</div>'.'</div>';                  if($i==11 || $i==13){echo "</div>";}                               if($i==13){ echo "</div>"; }                             }          /* Third ends */                              /*Forth block*/          if($i > 13 && $i < 17){              if($i == 14){ echo "<div style='float:left; width:100%;'>"; }                            echo '<div class="home-images" style="width:'.$width.'; height:'.$height.'; border:none;'.$margin.'"><a class="homeimg-link" href="'.$caturl.'" style="float:left; background-size: cover !important; background: url('.$catimg.')  no-repeat scroll 50% 50% transparent; width:'.$width.'; height:'.$height.'; "></a>                <a href="'.$caturl.'" class="home-imgtitle"><span>'.$catname.'</span><span class="home-arwimg"></span></a><div class="page-title1">'.$page_title.'</div>'.'</div>';                                 if($i == 16){ echo "</div>"; }          }          /*Forth ends*/                    /* Fifth block */          if($i > 16 && $i < 22){            if($i == 17){ echo "<div style='float:left; width:100%;'>"; }            if($i==18 ){ echo "<div style='float: left;height: 223px; margin-top: 0px;width: 73%;'>"; }            if($i==20 ){ echo "<div style=' float: left; height: 223px; margin-top: 9px; width: 73%;'>"; }            echo '<div class="home-images" style="width:'.$width.'; height:'.$height.'; border:none;'.$margin.'"><a class="homeimg-link" href="'.$caturl.'" style="float:left; background-size: cover !important; background: url('.$catimg.')  no-repeat scroll 50% 50% transparent; width:'.$width.'; height:'.$height.'; "></a>                <a href="'.$caturl.'" class="home-imgtitle"><span>'.$catname.'</span><span class="home-arwimg"></span></a><div class="page-title1">'.$page_title.'</div>'.'</div>';                  if($i==19 || $i==21){echo "</div>";}            if($i==21){ echo "</div>"; }                       }          /*Fifth ends*/                     /*Sixth block*/          if($i > 21 && $i < 25){              if($i == 22){ echo "<div style='float:left; width:100%;'>"; }                            echo '<div class="home-images" style="width:'.$width.'; height:'.$height.'; border:none;'.$margin.'"><a class="homeimg-link" href="'.$caturl.'" style="float:left; background-size: cover !important; background: url('.$catimg.')  no-repeat scroll 50% 50% transparent; width:'.$width.'; height:'.$height.'; "></a>                <a href="'.$caturl.'" class="home-imgtitle"><span>'.$catname.'</span><span class="home-arwimg"></span></a><div class="page-title1">'.$page_title.'</div>'.'</div>';                                 if($i == 24){ echo "</div>"; }          }          /*Sixth ends*/        /* seventh block */          if($i > 24 && $i < 30){            if($i == 25){ echo "<div style='float:left; width:100%;'>"; }              echo '<div class="home-images" style="width:'.$width.'; height:'.$height.'; border:none;"><a class="homeimg-link" href="'.$caturl.'" style="float:left; background-size: cover !important; background: url('.$catimg.')  no-repeat scroll 50% 50% transparent; width:'.$width.'; height:'.$height.'; "></a>             <a href="'.$caturl.'" class="home-imgtitle"><span>'.$catname.'</span><span class="home-arwimg"></span></a><div class="page-title1">'.$page_title.'</div>'.'</div>';                  if($i==29){ echo "</div>"; }          }          /* Seventh ends */           /* Eighth block */          if($i > 29 && $i < 34){            if($i == 30){ echo ""; }            if($i == 31){ echo "<div style='float:left; width:30%; height:450px;margin:0px;'>"; }                echo '<div class="home-images" style="width:'.$width.'; height:'.$height.'; border:none;'.$margin.'"><a class="homeimg-link" href="'.$caturl.'" style="float:left; background-size: cover !important; background: url('.$catimg.')  no-repeat scroll 50% 50% transparent; width:'.$width.'; height:'.$height.'; "></a>                <a href="'.$caturl.'" class="home-imgtitle"><span>'.$catname.'</span><span class="home-arwimg"></span></a><div class="page-title1">'.$page_title.'</div>'.'</div>';                  if($i == 32){ echo "</div>"; }            if($i==33){ echo "</div>"; }          }          /* Eighth ends */           /* Nigth block */          if($i > 33 && $i < 39){            if($i == 34){ echo "<div style='float:left; width:100%;'>"; }            if($i==35 ){ echo "<div style='float: left;height: 223px; margin-top: 0px;width: 73%;'>"; }            if($i==37 ){ echo "<div style=' float: left; height: 223px; margin-left: 0px; margin-top: 9px; width: 73%;'>"; }            echo '<div class="home-images" style="width:'.$width.'; height:'.$height.'; border:none;'.$margin.'"><a class="homeimg-link" href="'.$caturl.'" style="float:left; background-size: cover !important; background: url('.$catimg.')  no-repeat scroll 50% 50% transparent; width:'.$width.'; height:'.$height.'; "></a>                <a href="'.$caturl.'" class="home-imgtitle"><span>'.$catname.'</span><span class="home-arwimg"></span></a><div class="page-title1">'.$page_title.'</div>'.'</div>';                  if($i==36 || $i==38){echo "</div>";}                               if($i==38){ echo "</div>"; }                             }          /* Nigth ends */           /*Tength block*/          if($i > 38 && $i < 42){              if($i == 39){ echo "<div style='float:left; width:100%;'>"; }                            echo '<div class="home-images" style="width:'.$width.'; height:'.$height.'; border:none;'.$margin.'"><a class="homeimg-link" href="'.$caturl.'" style="float:left; background-size: cover !important; background: url('.$catimg.')  no-repeat scroll 50% 50% transparent; width:'.$width.'; height:'.$height.'; "></a>                <a href="'.$caturl.'" class="home-imgtitle"><span>'.$catname.'</span><span class="home-arwimg"></span></a><div class="page-title1">'.$page_title.'</div>'.'</div>';                                 if($i == 41){ echo "</div>"; }          }          /*Tength ends*/          /* Elevength block */                  if($i > 41 && $i < 46){            if($i == 42){ echo "<div style='float:left; width:100%;'>"; }              echo '<div class="home-images" style="width:'.$width.'; height:'.$height.'; border:none;"><a class="homeimg-link" href="'.$caturl.'"  style="float:left; background-size: cover !important; background: url('.$catimg.')  no-repeat scroll 50% 50% transparent; width:'.$width.'; height:'.$height.'; "></a>             <a href="'.$caturl.'" class="home-imgtitle"><span>'.$catname.'</span><span class="home-arwimg"></span></a><div class="page-title1">'.$page_title.'</div>'.'</div>';                  if($i==45){ echo "</div>"; }          }          /*Elevength ends*/            /*Twelgth block*/          if($i > 45 && $i < 49){              if($i == 46){ echo "<div style='float:left; width:100%;'>"; }                            echo '<div class="home-images" style="width:'.$width.'; height:'.$height.'; border:none;'.$margin.'"><a class="homeimg-link" href="'.$caturl.'" style="float:left; background-size: cover !important; background: url('.$catimg.')  no-repeat scroll 50% 50% transparent; width:'.$width.'; height:'.$height.'; "></a>                <a href="'.$caturl.'" class="home-imgtitle"><span>'.$catname.'</span><span class="home-arwimg"></span></a><div class="page-title1">'.$page_title.'</div>'.'</div>';                                 if($i == 48){ echo "</div>"; }          }          /*Twelgth ends*/           /* Thirteen block */          if($i > 48 && $i < 53){            if($i == 49){ echo "<div style='float:left; width:100%;'>"; }              echo '<div class="home-images" style="width:'.$width.'; height:'.$height.'; border:none;"><a class="homeimg-link" href="'.$caturl.'"  style="float:left; background-size: cover !important; background: url('.$catimg.')  no-repeat scroll 50% 50% transparent; width:'.$width.'; height:'.$height.'; "></a>             <a href="'.$caturl.'" class="home-imgtitle"><span>'.$catname.'</span><span class="home-arwimg"></span></a><div class="page-title1">'.$page_title.'</div>'.'</div>';                  if($i==52){ echo "</div>"; }          }                    /* Thirteen ends */          //if($i == 4)break;          $i++;     }          }?></div><div class="clear"></div><style>    .home-imgtitle {        position: relative;    }    .home-images {        margin: 5px !important;    }     .page-title1 {    font-weight: bold;    margin-left: 5px;    margin-top: 3px;    position: absolute;    font-size: 15px;    color: #197909;    font-family: helvetica;     }</style>